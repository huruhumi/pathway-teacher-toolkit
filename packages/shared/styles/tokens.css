/* ══════════════════════════════════════════════════
   Pathway Academy — Shared Design Tokens
   Import this in each app's index.css
   ══════════════════════════════════════════════════ */

/* Enable class-based dark mode (toggle .dark on <html>) */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
    /* ── Typography ── */
    --font-sans: 'Inter', ui-sans-serif, system-ui, -apple-system, sans-serif;

    /* ── Border Radius ── */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;

    /* ── Shadows ── */
    --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06);
    --shadow-card-hover: 0 4px 12px rgba(0, 0, 0, 0.08);
    --shadow-nav: 0 1px 3px rgba(0, 0, 0, 0.05);

    /* ── Animations ── */
    --animate-fade-in: fade-in 0.3s ease-out forwards;
    --animate-fade-in-up: fade-in-up 0.4s ease-out forwards;
}

/* ── Keyframes ── */
@keyframes fade-in {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(12px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ── Custom Scrollbar ── */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}


.dark ::-webkit-scrollbar-thumb {
    background: #334155;
}

.dark ::-webkit-scrollbar-thumb:hover {
    background: #475569;
}

/* ══════════════════════════════════════════════════
   GLOBAL DARK MODE OVERRIDES
   These catch any inline bg-white / bg-gray-* / text-gray-*
   that weren't individually converted, ensuring zero
   white flash anywhere in the UI.
   ══════════════════════════════════════════════════ */
.dark [class*="bg-white"]:not([class*="text-white"]):not([class*="hover:bg-white"]):not(.no-dark-override) {
    background-color: rgb(15 23 42 / 0.7) !important;
    /* slate-950/70 */
    border-color: rgb(255 255 255 / 0.06) !important;
}

.dark [class*="bg-gray-50"],
.dark [class*="bg-gray-100"],
.dark [class*="bg-slate-50"] {
    background-color: rgb(15 23 42 / 0.5) !important;
}

.dark [class*="bg-gray-200"],
.dark [class*="bg-gray-300"],
.dark [class*="bg-gray-400"] {
    background-color: rgb(30 41 59 / 0.8) !important;
}

.dark [class*="border-gray-100"],
.dark [class*="border-gray-200"],
.dark [class*="border-slate-100"] {
    border-color: rgb(255 255 255 / 0.05) !important;
}

.dark [class*="text-gray-900"],
.dark [class*="text-gray-800"] {
    color: rgb(226 232 240) !important;
    /* slate-200 */
}

.dark [class*="text-gray-700"],
.dark [class*="text-gray-600"] {
    color: rgb(148 163 184) !important;
    /* slate-400 */
}

.dark [class*="text-gray-500"],
.dark [class*="text-gray-400"] {
    color: rgb(100 116 139) !important;
    /* slate-500 */
}

.dark [class*="text-gray-300"] {
    color: rgb(71 85 105) !important;
    /* slate-600 */
}

.dark [class*="text-slate-900"],
.dark [class*="text-slate-800"] {
    color: rgb(226 232 240) !important;
    /* slate-200 */
}

.dark [class*="text-slate-700"],
.dark [class*="text-slate-600"] {
    color: rgb(148 163 184) !important;
    /* slate-400 */
}

/* Inputs without dark: classes */
.dark input:not([class*="dark:"]),
.dark textarea:not([class*="dark:"]),
.dark select:not([class*="dark:"]) {
    background-color: rgb(15 23 42 / 0.6) !important;
    border-color: rgb(255 255 255 / 0.08) !important;
    color: rgb(226 232 240) !important;
}

/* ── Components ── */
@layer components {

    /* Cards */
    .card {
        @apply bg-white rounded-2xl border border-slate-200 shadow-sm p-6 relative overflow-hidden dark:bg-slate-900/80 dark:backdrop-blur-xl dark:border-white/5 dark:shadow-2xl dark:ring-1 dark:ring-white/5;
    }

    .card-hover {
        @apply transition-shadow hover:shadow-md dark:hover:shadow-2xl dark:hover:border-white/10 dark:hover:ring-white/10 transition-all duration-300;
    }

    /* Buttons */
    .btn {
        @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98] outline-none;
    }

    .btn-sm {
        @apply px-3 py-1.5 text-sm rounded-lg;
    }

    .btn-lg {
        @apply px-8 py-3 text-lg;
    }

    .btn-primary {
        @apply bg-[var(--color-brand)] text-white hover:bg-[var(--color-brand-hover)] shadow-sm border border-transparent;
    }

    .btn-secondary {
        @apply bg-[var(--color-brand-light)] text-[var(--color-brand-dark)] hover:opacity-80 dark:bg-brand/10 dark:text-brand-light dark:hover:bg-brand/20;
    }

    .btn-outline {
        @apply bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-slate-300 shadow-sm dark:bg-white/5 dark:border-white/10 dark:text-slate-200 dark:hover:bg-white/10 dark:hover:border-white/20;
    }

    .btn-ghost {
        @apply bg-transparent text-slate-600 hover:bg-slate-100 hover:text-slate-900 border border-transparent dark:text-slate-400 dark:hover:bg-white/5 dark:hover:text-slate-100;
    }

    /* Form Inputs */
    .input-field {
        @apply w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:bg-white focus:ring-2 focus:ring-[var(--color-brand)] focus:border-transparent transition-all outline-none placeholder:text-slate-400 dark:bg-slate-950/50 dark:border-white/10 dark:text-slate-100 dark:focus:bg-slate-900 dark:focus:border-[var(--color-brand)] dark:focus:ring-[var(--color-brand)]/30 dark:placeholder:text-slate-500 dark:shadow-inner;
    }

    .input-label {
        @apply block text-sm font-semibold text-slate-700 mb-1.5 dark:text-slate-300;
    }
}

/* ── Print Styles ── */
@media print {
    @page {
        margin: 1.5cm;
        size: auto;
    }

    nav,
    footer,
    .no-print,
    button,
    .lucide,
    [role="tablist"],
    .flex.overflow-x-auto,
    .border-b.no-print {
        display: none !important;
    }

    body {
        background-color: white !important;
        color: black !important;
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    main {
        padding: 0 !important;
        margin: 0 !important;
        max-width: 100% !important;
        display: block !important;
    }

    .bg-white,
    .bg-slate-50,
    .bg-slate-50\/30,
    .bg-indigo-50\/30,
    .bg-teal-50\/30,
    .bg-orange-50 {
        background-color: transparent !important;
        border: 1px solid #eee !important;
        box-shadow: none !important;
        border-radius: 4px !important;
    }

    .shadow-lg,
    .shadow-md,
    .shadow-sm {
        box-shadow: none !important;
    }

    h2,
    h3,
    h4 {
        page-break-after: avoid;
        break-after: avoid;
    }

    table {
        width: 100% !important;
        border-collapse: collapse !important;
        page-break-inside: auto;
    }

    tr {
        page-break-inside: avoid;
        page-break-after: auto;
    }

    .rounded-xl,
    .border,
    .space-y-6>div,
    .space-y-4>div {
        page-break-inside: avoid;
        break-inside: avoid;
        margin-bottom: 1rem;
    }

    textarea,
    input {
        border: none !important;
        padding: 0 !important;
        background: transparent !important;
        color: black !important;
        resize: none !important;
        height: auto !important;
        overflow: visible !important;
        display: block !important;
        width: 100% !important;
        font-family: inherit !important;
    }

    .grid {
        display: block !important;
    }

    img {
        max-height: 100% !important;
        display: block !important;
        margin: 0 auto !important;
    }
}